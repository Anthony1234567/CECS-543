(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){e.exports=n(315)},148:function(e,t,n){},149:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var a,r,i=n(0),o=n.n(i),c=n(16),l=n.n(c),u=(n(148),n(149),n(141)),s=n(35),h=n(24),d=n(25),f=n(29),g=n(26),m=n(28),p=n(42),E=n(133),D=n.n(E),y=n(134),C=n.n(y),T=n(50),S=n.n(T),b=n(135),v=n.n(b),O=n(51),k=n.n(O),R=n(17),A=n.n(R),j=n(32),_=n.n(j),w=n(80),U=n.n(w),I=n(49),M=n(27),P=n(84);!function(e){e.UPDATE_CURRENT_SOURCE_DIRECTORY="UPDATE_CURRENT_SOURCE_DIRECTORY",e.UPDATE_CURRENT_TARGET_DIRECTORY="UPDATE_CURRENT_TARGET_DIRECTORY"}(a||(a={})),function(e){e.UPDATE_MANIFESTS="UPDATE_MANIFESTS"}(r||(r={}));var N,x=n(63),F=n.n(x),G=F.a.create({baseURL:"http://localhost:3001/",timeout:1e4}),Y=function(){return function(e,t){G.post("/get/manifests",{sourceDirectory:t().directoriesState.currentSourceDirectory}).then(function(n){200===n.status?e({type:r.UPDATE_MANIFESTS,manifests:n.data}):e({type:r.UPDATE_MANIFESTS,manifests:t()})}).catch(function(e){console.log(e)})}},L=function(){return function(e,t){G.post("/commit",{sourceDirectory:t().directoriesState.currentSourceDirectory}).then(function(n){200===n.status&&Y()(e,t)}).catch(function(e){console.log(e)})}},W=n(52),B=n(126),z=n.n(B),J=n(125),K=n.n(J),V=n(30),$=n.n(V),q=n(43),H=n.n(q),Q=n(81),X=n.n(Q),Z=n(127),ee=n.n(Z),te=n(132),ne=n.n(te),ae=n(129),re=n.n(ae),ie=n(130),oe=n.n(ie),ce=n(128),le=n.n(ce),ue=n(131),se=n.n(ue);!function(e){e.UPDATE_MERGEDATA="UPDATE_MERGEDATA"}(N||(N={}));var he=F.a.create({baseURL:"http://localhost:3001/",timeout:1e4}),de=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleClickOpenTargetDirDialog=function(){n.setState({openTargetDirDialog:!0})},n.handleCloseTargetDirDialog=function(){n.setState({openTargetDirDialog:!1})},n.state={open:!1,anchoreEl:null,openTargetDirDialog:!1,action:"",targetDir:""},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleAction",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.anchorEl,a=Boolean(n);return o.a.createElement("div",null,o.a.createElement(K.a,{color:"secondary","aria-label":"Add",className:t.fab,onClick:this.handleClick},o.a.createElement(z.a,null)),o.a.createElement(X.a,{id:"simple-popper",open:a,anchorEl:n,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement("div",null,o.a.createElement(H.a,null,o.a.createElement($.a,{onClick:this.props.commit},"Commit"),o.a.createElement($.a,{onClick:function(){e.setState({action:"Checkin"}),e.handleClickOpenTargetDirDialog()}},"CheckIn"),o.a.createElement($.a,{onClick:function(){e.setState({action:"Checkout"}),e.handleClickOpenTargetDirDialog()}},"CheckOut"),o.a.createElement($.a,{onClick:function(){e.setState({action:"MergeIn"}),e.handleClickOpenTargetDirDialog()}},"MergeIn"),o.a.createElement($.a,{onClick:function(){e.setState({action:"MergeOut"}),e.handleClickOpenTargetDirDialog()}},"MergeOut"))),o.a.createElement(ee.a,{open:this.state.openTargetDirDialog,onClose:this.handleCloseTargetDirDialog,"aria-labelledby":"form-dialog-title"},o.a.createElement(le.a,{id:"form-dialog-title"},this.state.action),o.a.createElement(re.a,null,o.a.createElement(oe.a,null,"Please enter a target directory to:"),o.a.createElement(se.a,{autoFocus:!0,margin:"dense",id:"name",label:"Target Directory",type:"text",fullWidth:!0,onChange:function(t){e.setState({targetDir:t.target.value})}})),o.a.createElement(ne.a,null,o.a.createElement($.a,{onClick:this.handleCloseTargetDirDialog,color:"primary"},"Cancel"),o.a.createElement($.a,{onClick:function(t){switch(e.props.updateCurrentTargetDirectory(e.state.targetDir),e.state.action){case"Checkin":e.props.checkin();break;case"Checkout":e.props.checkout();break;case"MergeIn":e.props.mergein();break;case"MergeOut":e.props.mergeout()}e.handleCloseTargetDirDialog()},color:"primary"},this.state.action)))))}}]),t}(o.a.Component),fe=Object(M.b)(function(e){return{manifestState:e.manifestsState,mergeDataState:e.mergeDataState}},{commit:L,checkin:function(){return function(e,t){G.post("/checkin",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory}).then(function(n){200===n.status&&Y()(e,t)}).catch(function(e){console.log(e)})}},checkout:function(){return function(e,t){G.post("/checkout",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory}).then(function(n){200===n.status&&Y()(e,t)}).catch(function(e){console.log(e)})}},mergein:function(e){return function(t,n){he.post("/mergein",{sourceDirectory:n().directoriesState.currentSourceDirectory,targetDirectory:n().directoriesState.currentTargetDirectory,mergeData:e}).then(function(e){200===e.status&&t({type:N.UPDATE_MERGEDATA,mergeData:[]})}).catch(function(e){console.log(e)})}},mergeout:function(){return function(e,t){he.post("/mergeout",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory}).then(function(t){console.log(t),200===t.status&&(console.log(t.data),e({type:N.UPDATE_MERGEDATA,mergeData:t.data}))}).catch(function(e){console.log(e)})}},updateCurrentTargetDirectory:function(e){return function(t,n){var r=n().directoriesState;t({type:a.UPDATE_CURRENT_TARGET_DIRECTORY,payload:{currentTargetDirectory:e,pastTargetDirectories:[].concat(Object(P.a)(r.pastTargetDirectories),[r.currentTargetDirectory]).filter(function(e,t,n){if(e.length>0&&n.indexOf(e)===t)return e})}})}}})(Object(W.withStyles)(function(e){return{fab:{margin:e.spacing.unit,positions:"relative",bottom:e.spacing.unit,right:5*e.spacing.unit},paper:{position:"-webkit-sticky",width:50*e.spacing.unit,padding:4*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],outline:"none"}}})(de)),ge={flexGrow:1},me={paddingTop:A.a.unit,paddingRight:A.a.unit,paddingBottom:A.a.unit,paddingLeft:7*A.a.unit,transition:_.a.create("width"),width:50*A.a.unit},pe={position:"relative",borderRadius:U.a.borderRadius,marginRight:2*A.a.unit,marginLeft:20*A.a.unit,width:59*A.a.unit,backgroundColor:Object(I.fade)("#ffffff",.15)},Ee={width:9*A.a.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},De={paddingTop:2*A.a.unit,marginLeft:5*A.a.unit},ye=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={delayFunction:null,textField:""},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=this;clearTimeout(this.state.delayFunction),this.setState({textField:e.target.value,delayFunction:setTimeout(function(){t.props.updateCurrentSourceDirectory(t.state.textField)},500)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:ge},o.a.createElement(D.a,{position:"static",color:"primary"},o.a.createElement(C.a,null,o.a.createElement("div",null,o.a.createElement(S.a,{variant:"h6",color:"inherit",noWrap:!0},"Version Control System")),o.a.createElement("div",{style:pe},o.a.createElement("div",{style:Ee},o.a.createElement(v.a,null)),o.a.createElement(k.a,{placeholder:"Enter your directory",style:me,onChange:function(t){e.handleChange(t)}})),o.a.createElement("div",{style:De},o.a.createElement(fe,null)))))}}]),t}(o.a.Component),Ce=Object(M.b)(function(e){return{directoriesState:e.directoriesState}},{updateCurrentSourceDirectory:function(e){return function(t,n){var r=n().directoriesState;e.length>0&&(t({type:a.UPDATE_CURRENT_SOURCE_DIRECTORY,payload:{currentSourceDirectory:e,pastSourceDirectories:[].concat(Object(P.a)(r.pastSourceDirectories),[r.currentSourceDirectory]).filter(function(e,t,n){if(e.length>0&&n.indexOf(e)===t)return e})}}),Y()(t,n))}}})(ye),Te=n(137),Se=n.n(Te),be=n(139),ve=n.n(be),Oe=n(138),ke=n.n(Oe),Re=n(64),Ae=n.n(Re),je=n(136),_e=n.n(je),we=n(82),Ue=n.n(we),Ie=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={manifest:n.props.manifest,handleManifestClick:n.props.handleManifestClick},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("li",null,o.a.createElement("pre",null))}}]),t}(o.a.Component),Me=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).showArtifacts=function(){var e=n.state.artifacts;return o.a.createElement("div",{className:n.props.classes.list},o.a.createElement(H.a,null,e.map(function(e,t){var a=e.split(".psa");return o.a.createElement("div",null,o.a.createElement(Ae.a,{key:n.hashCode(e)},o.a.createElement(_e.a,null,o.a.createElement(Ue.a,null)),o.a.createElement(Se.a,{primary:".."+a[1],secondary:"Path: "+e})),o.a.createElement(ke.a,null))})))},n.state={artifacts:[],right:!1},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.manifestState,n=this.props.classes,a=t.map(function(t){return null===t.tag?o.a.createElement(Ae.a,{button:!0,key:e.hashCode(t.id),onClick:function(){e.setState({artifacts:void 0!==t.values?t.values:[],right:!0})}},t.id):o.a.createElement(Ae.a,{button:!0,key:e.hashCode(t.id),onClick:function(){e.setState({artifacts:void 0!==t.values?t.values:[],right:!0})}},t.tag)});return o.a.createElement("div",null,o.a.createElement(H.a,{className:n.root},a),o.a.createElement(ve.a,{anchor:"right",open:this.state.right,onClose:function(){return e.setState({right:!1})},onOpen:function(){return e.setState({right:!0})}},o.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){return e.setState({right:!1})},onKeyDown:function(){return e.setState({right:!0})}},this.showArtifacts())))}},{key:"handleManifestClick",value:function(e){this.setState({artifacts:"commit"===e.command?e.values:[],right:!0})}},{key:"generateManifestItems",value:function(){return this.props.manifestState.map(function(e,t){return o.a.createElement(Ie,{manifest:e})})}},{key:"hashCode",value:function(e){for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}}]),t}(o.a.Component),Pe=Object(M.b)(function(e){return{manifestState:e.manifestsState}},{updateLabel:function(e,t){return function(n,a){G.post("/update",{sourceDirectory:a().directoriesState.currentSourceDirectory,id:e,field:"tag",value:t}).then(function(e){200===e.status&&Y()(n,a)}).catch(function(e){console.log(e)})}}})(Object(W.withStyles)(function(e){return{root:{width:"100%",maxWidth:240,backgroundColor:e.palette.background.paper},list:{width:75*A.a.unit},fullList:{width:"auto"}}})(Me)),Ne=function(e){function t(e){return Object(h.a)(this,t),Object(f.a)(this,Object(g.a)(t).call(this,e))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ce,null),o.a.createElement(Pe,null))}}]),t}(o.a.Component),xe=Object(M.b)(function(e){return{manifests:e.manifestsState}},{getAllManifests:Y,commit:L})(Ne),Fe=n(140),Ge=n(36),Ye=[],Le=[],We=n(85),Be={currentSourceDirectory:"",pastSourceDirectories:[],currentTargetDirectory:"",pastTargetDirectories:[]},ze=Object(Ge.c)({manifestsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPDATE_MANIFESTS:return t.manifests;default:return e}},mergeDataState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.UPDATE_MERGEDATA:return t.mergeData;default:return e}},directoriesState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.UPDATE_CURRENT_SOURCE_DIRECTORY:case a.UPDATE_CURRENT_TARGET_DIRECTORY:return Object(We.a)({},e,t.payload);default:return e}}}),Je=[Fe.a],Ke=Object(Ge.e)(ze,Object(Ge.d)(Ge.a.apply(void 0,Je))),Ve=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(M.a,{store:Ke},o.a.createElement(u.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",exact:!0,component:xe})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.57900983.chunk.js.map